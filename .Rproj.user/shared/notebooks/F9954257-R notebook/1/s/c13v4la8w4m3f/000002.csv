"0","# 4. **Process holidays**:"
"0","holidays <- fread(""inputs/holidays.csv"") "
"0","holidays[,prexms := as.Date(prexms, ""%d%B%Y"")]"
"0",""
"0","# it seems that when was initialization there were some problems with the timezone (but I solved it)"
"0","copy[, final_date_minus_one := as.Date(final_date)-1]"
"0",""
"0","Sys.setlocale(""LC_TIME"", ""C"")"
"1","[1]"
"1"," ""C"""
"1","
"
"0","holidays[,prexms := as.Date(prexms, ""%d%b%Y"")]"
"0","holidays[,xms := as.Date(xms, ""%d%b%Y"")]"
"0","holidays[,easter := as.Date(easter, ""%d%b%Y"")]"
"0","holidays[,halloween := as.Date(halloween, ""%d%b%Y"")]"
"0","holidays[,newyear := as.Date(newyear, ""%d%b%Y"")]"
"0","holidays[,valentine := as.Date(valentine, ""%d%b%Y"")]"
"0",""
"0","copy[, prexms := ifelse(copy$final_date_minus_one %in% holidays$prexms, 1, 0)]"
"0","copy[, xms := ifelse(copy$final_date_minus_one %in% holidays$xms, 1, 0)]"
"0","copy[, easter := ifelse(copy$final_date_minus_one %in% holidays$easter, 1, 0)]"
"0","copy[, halloween := ifelse(copy$final_date_minus_one %in% holidays$halloween, 1, 0)]"
"0","copy[, newyear := ifelse(copy$final_date_minus_one %in% holidays$newyear, 1, 0)]"
"0","copy[, valentine := ifelse(copy$final_date_minus_one %in% holidays$valentine, 1, 0)]"
"0",""
"0","copy[, full_date := final_date_minus_one]"
"0","copy[, c(""final_date_minus_one"",""final_date""):=NULL]"
"0",""
"0","# copy[, cat_subcat := paste(copy$cat, copy$subcat)] # already done"
"0","setcolorder(copy, c('cat', 'subcat', 'cat_subcat','promo','date', 'year', 'week', 'year_week', 'month','full_date', 'prexms', 'xms', 'easter', 'halloween', 'newyear', 'valentine'))"
